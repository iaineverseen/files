local a=(type(cloneref)=='function')and cloneref or function(a)return a end local b,c,d,e,f,g,h,i=a(game:GetService'UserInputService'),a(game:GetService'TweenService'),a(game:GetService'TextService'),Instance.new,UDim2.new,UDim.new,Vector2.new,Color3.fromRGB local function CreateTween(j,k,l)return c:Create(j,TweenInfo.new(k,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),l)end local j,k={Primary=i(100,100,100),Dark=i(22,22,26),Accent=i(138,43,226),White=i(255,255,255),LightGray=i(245,245,245),MediumGray=i(200,200,200),DarkGray=i(150,150,150),Background=i(24,24,26),Outline=i(30,30,30),Topbar=i(10,10,10),Selection=i(138,43,226)},{Menu='rbxassetid://82682091622365',Minimize='rbxassetid://101118075751604',Arrow='rbxassetid://10709790948'}local function CreateElement(l,m)local n=e(l)for o,p in pairs(m)do if o~='Parent'then n[o]=p end end if m.Parent then n.Parent=m.Parent end return n end local l,m=gethui():FindFirstChild'NexusLibrary',gethui():FindFirstChild'NexusLibraryMenuButton'if l then l:Destroy()end if m then m:Destroy()end local function AddCorner(n,o)return CreateElement('UICorner',{Parent=n,CornerRadius=g(0,o)})end local function MakeDraggable(n,o,p)p[#p+1]=n.InputBegan:Connect(function(q)if q.UserInputType==Enum.UserInputType.MouseButton1 or q.UserInputType==Enum.UserInputType.Touch then Dragging=true DragStart=q.Position StartPos=o.Position q.Changed:Connect(function()if q.UserInputState==Enum.UserInputState.End then Dragging=false end end)end end)p[#p+1]=b.InputChanged:Connect(function(q)if Dragging and(q.UserInputType==Enum.UserInputType.MouseMovement or q.UserInputType==Enum.UserInputType.Touch)then local r=q.Position-DragStart o.Position=f(StartPos.X.Scale,StartPos.X.Offset+r.X,StartPos.Y.Scale,StartPos.Y.Offset+r.Y)end end)end local n=CreateElement('ScreenGui',{Name='NexusLibraryMenuButton',Parent=gethui(),ZIndexBehavior=Enum.ZIndexBehavior.Sibling,ResetOnSpawn=false,Enabled=false})local o=CreateElement('Frame',{Name='OutlineButton',Parent=n,BackgroundColor3=j.Dark,Position=f(0,10,0,10),Size=f(0,50,0,50)})AddCorner(o,12)local p=CreateElement('ImageButton',{Parent=o,Position=f(0.5,0,0.5,0),Size=f(0,40,0,40),AnchorPoint=h(0.5,0.5),BackgroundColor3=j.Dark,ImageColor3=j.White,Image=k.Menu})AddCorner(p,10)local q={}MakeDraggable(p,o,q)local r={}function r.CreateWindow(s,t)t=t or'NEXUS LIBRARY'local u,v,w,x,y,z=f(0,490,0,330),130,{},false,{},CreateElement('ScreenGui',{Name='NexusLibrary',Parent=gethui(),DisplayOrder=999,ResetOnSpawn=false})w._Connections=y local A=CreateElement('Frame',{Name='MainFrame',Parent=z,AnchorPoint=h(0.5,0.5),BackgroundColor3=j.Background,Position=f(0.5,0,0.45,0),Size=f(0,0,0,0)})A:TweenSize(u,'Out','Quad',0.4,true)AddCorner(A,12)local B=CreateElement('Frame',{Name='TopBar',Parent=A,BackgroundColor3=j.Topbar,BackgroundTransparency=1,Size=f(1,0,0,40)})AddCorner(B,5)local C=CreateElement('TextLabel',{Name='TitleLabel',Parent=B,BackgroundTransparency=1,Position=f(0,15,0.5,0),AnchorPoint=h(0,0.5),Font=Enum.Font.Cartoon,Text=t,TextSize=20,TextColor3=j.White,TextXAlignment=Enum.TextXAlignment.Left})local D=d:GetTextSize(C.Text,C.TextSize,C.Font,h(9999,9999))C.Size=f(0,D.X,0,25)local E=CreateElement('ImageButton',{Name='MinimizeBtn',Parent=B,BackgroundTransparency=1,AnchorPoint=h(1,0.5),Position=f(1,-15,0.5,0),Size=f(0,20,0,20),Image=k.Minimize,ImageColor3=j.LightGray})AddCorner(E,3)local F=CreateElement('Frame',{Name='TabContainer',Parent=A,BackgroundTransparency=1,Position=f(0,8,0,B.Size.Y.Offset),Size=f(0,v,u.Y.Scale,u.Y.Offset-B.Size.Y.Offset-8)})local G=CreateElement('ScrollingFrame',{Name='TabScrollFrame',Parent=F,BackgroundTransparency=1,Size=f(1,0,1,0),ScrollBarThickness=0})AddCorner(F,5)CreateElement('UIListLayout',{Parent=G,SortOrder=Enum.SortOrder.LayoutOrder,Padding=g(0,2)})local H=CreateElement('Frame',{Name='ContentPage',Parent=A,BackgroundTransparency=1,Position=f(0,F.Size.X.Offset+18,0,B.Size.Y.Offset),Size=f(u.X.Scale,u.X.Offset-F.Size.X.Offset-25,u.Y.Scale,u.Y.Offset-B.Size.Y.Offset-8)})AddCorner(H,3)local I=CreateElement('Frame',{Name='PageContainer',Parent=H,BackgroundTransparency=1,ClipsDescendants=true,Size=f(1,0,1,0)})local J=CreateElement('Folder',{Name='PageList',Parent=I})CreateElement('UIPageLayout',{Parent=J,SortOrder=Enum.SortOrder.LayoutOrder,EasingDirection=Enum.EasingDirection.InOut,EasingStyle=Enum.EasingStyle.Quad,Padding=g(0,10),TweenTime=0})MakeDraggable(B,A,y)y[#y+1]=E.MouseButton1Click:Connect(function()z.Enabled=false n.Enabled=true end)p.MouseButton1Click:Connect(function()z.Enabled=true n.Enabled=false end)function w.CreateTab(K,L)local M=CreateElement('TextButton',{Name=L..'Tab',Parent=G,Text='',BackgroundTransparency=1,Size=f(1,0,0,35)})local N=CreateElement('Frame',{Name='SelectionIndicator',Parent=M,BackgroundColor3=j.Accent,Size=f(0,3,0,0),Position=f(0,0,0.5,0),AnchorPoint=h(0,0.5)})AddCorner(N,100)local O=CreateElement('TextLabel',{Name='TabText',Parent=M,BackgroundTransparency=1,Position=f(0,10,0.5,0),Size=f(0,100,0,30),Font=Enum.Font.Cartoon,Text=L,AnchorPoint=h(0,0.5),TextColor3=j.White,TextTransparency=0.4,TextSize=14,TextXAlignment=Enum.TextXAlignment.Left})AddCorner(M,6)local P=CreateElement('ScrollingFrame',{Name=L..'Page',Parent=J,BackgroundTransparency=1,Size=f(1,0,1,0),ScrollBarThickness=0})local Q=CreateElement('UIListLayout',{Parent=P,SortOrder=Enum.SortOrder.LayoutOrder,Padding=g(0,3)})y[#y+1]=Q:GetPropertyChangedSignal'AbsoluteContentSize':Connect(function()P.CanvasSize=f(0,0,0,Q.AbsoluteContentSize.Y+5)end)y[#y+1]=M.MouseButton1Click:Connect(function()for R,S in ipairs(G:GetChildren())do if S:IsA'TextButton'then CreateTween(S,0.3,{BackgroundTransparency=1}):Play()local T=S:FindFirstChild'SelectionIndicator'if T then CreateTween(T,0.2,{Size=f(0,3,0,0)}):Play()end local U=S:FindFirstChild'TabText'if U then CreateTween(U,0.3,{TextTransparency=0.4}):Play()end end end CreateTween(M,0.3,{BackgroundTransparency=0.8}):Play()CreateTween(N,0.3,{Size=f(0,3,0,15)}):Play()CreateTween(O,0.3,{TextTransparency=0}):Play()J.UIPageLayout:JumpTo(P)end)if not x then M.BackgroundTransparency=0.8 N.Size=f(0,3,0,15)O.TextTransparency=0 J.UIPageLayout:JumpToIndex(1)x=true end local R={}function R.AddButton(S,T,U)local V=CreateElement('TextButton',{Name='Button',Parent=P,BackgroundColor3=j.Accent,Size=f(1,0,0,36),Text=''})AddCorner(V,5)CreateElement('TextLabel',{Name='ButtonText',Parent=V,BackgroundTransparency=1,AnchorPoint=h(0.5,0.5),Position=f(0.5,0,0.5,0),Size=f(1,-20,1,0),Font=Enum.Font.Cartoon,Text=T,TextColor3=j.White,TextSize=15})y[#y+1]=V.MouseButton1Click:Connect(function()pcall(U)end)end function R.AddToggle(S,T,U,V)local W,X=U or false,CreateElement('TextButton',{Name='ToggleButton',Parent=P,BackgroundColor3=j.Primary,BackgroundTransparency=0.8,Text='',Size=f(1,0,0,36)})AddCorner(X,5)CreateElement('TextLabel',{Parent=X,BackgroundTransparency=1,Size=f(1,0,0,35),Font=Enum.Font.Cartoon,Text=T,TextColor3=j.White,TextSize=15,TextXAlignment=Enum.TextXAlignment.Left,AnchorPoint=h(0,0.5),Position=f(0,15,0.5,0)})local Y=CreateElement('Frame',{Name='ToggleFrame',Parent=X,BackgroundTransparency=1,Position=f(1,-10,0.5,0),Size=f(0,35,0,20),AnchorPoint=h(1,0.5)})local Z=CreateElement('TextButton',{Name='ToggleBackground',Parent=Y,BackgroundColor3=j.MediumGray,BackgroundTransparency=0.8,Size=f(1,0,1,0),Text=''})AddCorner(Z,10)local _=CreateElement('Frame',{Name='ToggleCircle',Parent=Z,BackgroundColor3=j.White,Position=f(0,3,0.5,0),Size=f(0,14,0,14),AnchorPoint=h(0,0.5)})AddCorner(_,10)local function UpdateToggle(aa)if aa then _:TweenPosition(f(0,17,0.5,0),'Out','Sine',0.2,true)CreateTween(Z,0.4,{BackgroundColor3=j.Accent,BackgroundTransparency=0}):Play()else _:TweenPosition(f(0,4,0.5,0),'Out','Sine',0.2,true)CreateTween(Z,0.4,{BackgroundColor3=j.MediumGray,BackgroundTransparency=0.8}):Play()end end y[#y+1]=Z.MouseButton1Click:Connect(function()W=not W UpdateToggle(W)pcall(V,W)end)if U then UpdateToggle(true)end local aa={Value=W}function aa.SetValue(ab,ac)W=ac ab.Value=W UpdateToggle(W)pcall(V,W)end return aa end function R.AddDropdown(aa,ab,ac,S,T)local U,V=false if type(S)=='function'then T=S S=ac ac=nil end local W=CreateElement('Frame',{Name='Dropdown',Parent=P,BackgroundColor3=j.Primary,BackgroundTransparency=0.8,Size=f(1,0,0,36)})AddCorner(W,5)local X=CreateElement('Frame',{Name='TopSection',Parent=W,BackgroundTransparency=1,Size=f(1,0,0,36)})local Y,Z,_,ad=CreateElement('TextLabel',{Name='DropdownTitle',Parent=X,BackgroundTransparency=1,Position=f(0,15,0.5,0),Size=f(0,150,0,36),Font=Enum.Font.Cartoon,Text=ab..' - ',AnchorPoint=h(0,0.5),TextColor3=j.White,TextSize=15,TextXAlignment=Enum.TextXAlignment.Left}),CreateElement('TextLabel',{Name='SelectedLabel',Parent=X,BackgroundTransparency=1,Position=f(0,15,0.5,0),Size=f(0.6,0,0,36),AnchorPoint=h(0,0.5),Font=Enum.Font.Cartoon,TextSize=15,TextColor3=j.White,TextTransparency=0.6,Text='None',TextXAlignment=Enum.TextXAlignment.Left}),CreateElement('ImageLabel',{Name='ArrowIcon',Parent=X,BackgroundTransparency=1,AnchorPoint=h(1,0.5),Position=f(1,-10,0.5,0),Size=f(0,20,0,20),Image=k.Arrow,ImageColor3=j.White}),CreateElement('Frame',{Name='DropdownScrollContainer',Parent=W,BackgroundColor3=j.Background,Size=f(1,-10,0,0),Position=f(0,5,0,36),Visible=false})AddCorner(ad,5)local ae=CreateElement('ScrollingFrame',{Name='DropdownScroll',Parent=ad,BackgroundTransparency=1,Position=f(0,0,0,10),Size=f(1,0,1,-15),ScrollBarThickness=0})local af,ag=CreateElement('UIListLayout',{Parent=ae,SortOrder=Enum.SortOrder.LayoutOrder,Padding=g(0,1)}),CreateElement('TextLabel',{Name='NoOptionsLabel',Parent=ae,BackgroundTransparency=1,Size=f(1,0,0,30),Font=Enum.Font.Cartoon,Text='No options available',TextColor3=j.DarkGray,TextSize=13,TextTransparency=0.5,TextXAlignment=Enum.TextXAlignment.Center,Visible=false})local function UpdateText()if V and V~=''then local ah=ab..' - 'local ai=d:GetTextSize(ah,15,Enum.Font.Cartoon,h(9999,9999))Y.Text=ah Y.Size=f(0,ai.X,0,36)Z.Text=V Z.Position=f(0,15+ai.X,0.5,0)Z.TextTransparency=0 else Y.Text=ab..' - 'Z.Text='None'Z.TextTransparency=0.6 local ah=ab..' - 'local ai=d:GetTextSize(ah,15,Enum.Font.Cartoon,h(9999,9999))Y.Size=f(0,ai.X,0,36)Z.Position=f(0,15+ai.X,0.5,0)end end local function UpdateVisuals()for ah,ai in ipairs(ae:GetChildren())do if ai:IsA'TextButton'then local aj=V==ai.Text ai.BackgroundTransparency=aj and 0.5 or 1 ai.TextTransparency=aj and 0 or 0.5 end end end local function AddOption(ah)local ai=CreateElement('TextButton',{Name='Option',Parent=ae,BackgroundColor3=j.Primary,BackgroundTransparency=1,Size=f(1,0,0,30),Font=Enum.Font.Cartoon,Text=tostring(ah),TextColor3=j.White,TextSize=13,TextTransparency=0.5,TextXAlignment=Enum.TextXAlignment.Center})AddCorner(ai,5)y[#y+1]=ai.MouseButton1Click:Connect(function()V=ai.Text UpdateVisuals()UpdateText()pcall(T,V)end)end if ac~=nil and ac~=''then V=tostring(ac)end if type(S)=='table'then for ah=1,#S do AddOption(tostring(S[ah]))end else warn'Dropdown: options parameter must be a table'S={}end local function CountOptions()local ah=0 for ai,aj in ipairs(ae:GetChildren())do if aj:IsA'TextButton'and aj.Name=='Option'then ah=ah+1 end end return ah end ag.Visible=CountOptions()==0 UpdateText()UpdateVisuals()local function Toggle()U=not U local ah,ai,aj=U and f(1,0,0,150)or f(1,0,0,36),U and f(1,-10,0,110)or f(1,-10,0,0),U and 180 or 0 CreateTween(W,0.3,{Size=ah}):Play()CreateTween(ad,0.3,{Size=ai}):Play()CreateTween(_,0.3,{Rotation=aj}):Play()ad.Visible=U end local ah=CreateElement('TextButton',{Name='DropdownClickArea',Parent=X,BackgroundTransparency=1,Size=f(1,0,0,36),Text=''})y[#y+1]=ah.MouseButton1Click:Connect(Toggle)y[#y+1]=af:GetPropertyChangedSignal'AbsoluteContentSize':Connect(function()ae.CanvasSize=f(0,0,0,af.AbsoluteContentSize.Y+10)end)local ai={}function ai.Add(aj,ak)AddOption(tostring(ak))UpdateVisuals()ag.Visible=false end function ai.Clear(aj)V=nil UpdateText()for ak,al in ipairs(ae:GetChildren())do if al:IsA'TextButton'then al:Destroy()end end ag.Visible=true end function ai.Refresh(aj,ak)if type(ak)=='table'then local al=V aj:Clear()if al then for am,an in ipairs(ak)do if tostring(an)==al then V=al break end end end for am=1,#ak do aj:Add(ak[am])end ag.Visible=#ak==0 UpdateText()UpdateVisuals()end end return ai end function R.AddSlider(aa,ab,ac,ad,ae,af,ag)af=tonumber(af)or 1 ac=tonumber(ac)or 0 ad=tonumber(ad)or 100 ae=math.clamp(tonumber(ae)or ac,ac,ad)local function RoundValue(ah)return math.floor(ah/af+0.5)*af end local function FormatValue(ah)local ai,aj,ak=RoundValue(ah),0,af while math.abs(ak-math.floor(ak))>1e-10 and aj<10 do ak=ak*10 aj=aj+1 end if aj==0 then return tostring(math.floor(ai+0.5))else local al=string.format('%.'..aj..'f',ai)if al:find'%.'then al=al:match'(.-)0*$'if al:sub(-1)=='.'then al=al:sub(1,-2)end end return al~=''and al~='-'and al or'0'end end local ah=CreateElement('Frame',{Name='Slider',Parent=P,BackgroundTransparency=1,Size=f(1,0,0,40)})AddCorner(ah,5)local ai=CreateElement('Frame',{Name='SliderBackground',Parent=ah,BackgroundColor3=j.Primary,BackgroundTransparency=0.8,Size=f(1,0,0,40)})AddCorner(ai,5)local aj,ak=CreateElement('TextLabel',{Parent=ai,BackgroundTransparency=1,Position=f(0,15,0.5,0),Size=f(0.5,0,0,30),Font=Enum.Font.Cartoon,Text=ab,AnchorPoint=h(0,0.5),TextColor3=j.White,TextSize=15,TextXAlignment=Enum.TextXAlignment.Left}),CreateElement('Frame',{Name='SliderBar',Parent=ai,BackgroundColor3=j.MediumGray,Size=f(0,150,0,8),Position=f(1,-10,0.5,0),BackgroundTransparency=0.8,AnchorPoint=h(1,0.5)})AddCorner(ak,4)local al=CreateElement('Frame',{Name='SliderFill',Parent=ak,BackgroundColor3=j.Accent})AddCorner(al,4)local am,an=CreateElement('TextLabel',{Parent=ai,BackgroundTransparency=1,Position=f(1,-170,0.5,0),Size=f(0,50,0,30),Font=Enum.Font.Cartoon,AnchorPoint=h(1,0.5),TextColor3=j.White,TextSize=13,TextXAlignment=Enum.TextXAlignment.Right}),RoundValue(ae)local S=(an-ac)/(ad-ac)al.Size=f(0,S*150,0,8)am.Text=FormatValue(an)local T,U=false,an local function UpdateSlider(V)local W,X,Y=ak.AbsolutePosition.X,ak.AbsoluteSize.X,V.Position.X local Z=math.clamp((Y-W)/X,0,1)local _=ac+(ad-ac)*Z U=RoundValue(_)am.Text=FormatValue(U)al.Size=f(0,Z*150,0,8)end y[#y+1]=ak.InputBegan:Connect(function(V)if V.UserInputType==Enum.UserInputType.MouseButton1 or V.UserInputType==Enum.UserInputType.Touch then T=true UpdateSlider(V)end end)y[#y+1]=b.InputEnded:Connect(function(V)if V.UserInputType==Enum.UserInputType.MouseButton1 or V.UserInputType==Enum.UserInputType.Touch then if T then T=false an=U pcall(ag,an)end end end)y[#y+1]=b.InputChanged:Connect(function(V)if T and(V.UserInputType==Enum.UserInputType.MouseMovement or V.UserInputType==Enum.UserInputType.Touch)then UpdateSlider(V)end end)local V={Value=an}function V.SetValue(W,X)local Y=tonumber(X)or an local Z=math.clamp(Y,ac,ad)local _=RoundValue(Z)local ao=(_-ac)/(ad-ac)an=_ U=_ W.Value=_ am.Text=FormatValue(_)al.Size=f(0,ao*150,0,8)pcall(ag,_)end return V end function R.AddTextbox(aa,ab,ac,ad)ac=ac or'Enter text...'local ae=CreateElement('Frame',{Name='Textbox',Parent=P,BackgroundColor3=j.Primary,BackgroundTransparency=0.8,Size=f(1,0,0,36)})AddCorner(ae,5)CreateElement('TextLabel',{Name='TextboxLabel',Parent=ae,BackgroundTransparency=1,Position=f(0,15,0.5,0),Text=ab,Size=f(0.4,0,0,36),Font=Enum.Font.Cartoon,AnchorPoint=h(0,0.5),TextColor3=j.White,TextSize=15,TextXAlignment=Enum.TextXAlignment.Left})local af=CreateElement('TextBox',{Name='InputBox',Parent=ae,BackgroundColor3=j.Background,BackgroundTransparency=0,Position=f(1,-5,0.5,0),AnchorPoint=h(1,0.5),Size=f(0,150,0,25),Font=Enum.Font.Cartoon,PlaceholderText=ac,PlaceholderColor3=j.DarkGray,Text='',TextColor3=j.LightGray,TextSize=11})AddCorner(af,5)y[#y+1]=af.FocusLost:Connect(function()pcall(ad,af.Text)end)end function R.AddLabel(aa,ab)local ac,ad=15,36 local ae=CreateElement('Frame',{Name='LabelFrame',Parent=P,BackgroundColor3=j.Primary,BackgroundTransparency=0.8,Size=f(1,0,0,ad)})AddCorner(ae,5)local af=CreateElement('TextLabel',{Name='LabelText',Parent=ae,BackgroundTransparency=1,Size=f(1,-20,1,0),Font=Enum.Font.Cartoon,Position=f(0,10,0,0),TextColor3=j.LightGray,TextSize=ac,Text=ab,TextWrapped=true})local function CalculateHeight()local ag=d:GetTextSize(af.Text,ac,Enum.Font.Cartoon,h(af.AbsoluteSize.X,math.huge))return ag.Y>ad and(ag.Y+10)or ad end task.spawn(function()task.wait(0.1)local ag=CalculateHeight()ae.Size=f(1,0,0,ag)task.wait(0.05)if Q then Q:ApplyLayout()end end)local ag={}function ag.SetText(ah,ai)af.Text=ai local aj=d:GetTextSize(ai,ac,Enum.Font.Cartoon,h(af.AbsoluteSize.X,math.huge))local ak=aj.Y>ad and(aj.Y+10)or ad ae.Size=f(1,0,0,ak)task.wait(0.05)if Q then Q:ApplyLayout()end end return ag end return R end return w end return r